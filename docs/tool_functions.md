# Verilog MCP Tool Functions

This document describes the conceptual MCP tools for Verilog/SystemVerilog design and verification.

## 1. `rtl_gen`: Intelligent Verilog Designer

**Purpose:**
Generates synthesizable SystemVerilog RTL code based on a high-level design specification. It aims to follow industry best practices for structure, parameterization, and basic functional blocks.

**MCP Tool Name:** `rtl_gen`

**Inputs:**
The tool expects a `DesignSpec` structure (or equivalent JSON object) with the following fields:

*   `module_name` (string): The desired name for the Verilog module.
*   `ports` (array of objects): Defines the module's ports. Each object should have:
    *   `name` (string): Port name.
    *   `width` (integer): Port width (e.g., 1, 8, 32).
    *   `dir` (string): Port direction ("input", "output", "inout").
*   `params` (array of objects, optional): Defines module parameters. Each object should have:
    *   `name` (string): Parameter name.
    *   `value` (integer): Parameter value.
*   `clk_reset_scheme` (string, optional): Describes the clocking and reset strategy (e.g., "posedge clk, async reset_n"). Default: "posedge clk, async reset_n".
*   `functionality` (string): A keyword or description indicating the desired core functionality (e.g., "fifo", "fsm", "pipeline", "custom logic description...").

**Example Input (Conceptual JSON):**
```json
{
  "module_name": "my_fifo",
  "ports": [
    {"name": "clk", "width": 1, "dir": "input"},
    {"name": "rst_n", "width": 1, "dir": "input"},
    {"name": "wr_en", "width": 1, "dir": "input"},
    {"name": "rd_en", "width": 1, "dir": "input"},
    {"name": "data_in", "width": 32, "dir": "input"},
    {"name": "data_out", "width": 32, "dir": "output"},
    {"name": "full", "width": 1, "dir": "output"},
    {"name": "empty", "width": 1, "dir": "output"}
  ],
  "params": [
    {"name": "DEPTH", "value": 16}
  ],
  "functionality": "fifo"
}
```

**Outputs:**
The tool returns an `RTLOutput` structure (or equivalent JSON object) containing:

*   `verilog_code` (string): The generated SystemVerilog RTL code.
*   `warnings` (string): Any warnings generated during code creation or based on simple guideline checks.
*   `timing_exceptions` (array of objects): Potential timing constraints or exceptions identified. Each object has:
    *   `constraint` (string): The constraint type (e.g., "set_false_path").
    *   `description` (string): Justification or details for the constraint.

---

## 2. `tb_gen`: Auto Testbench Generator

**Purpose:**
Generates a UVM (Universal Verification Methodology) style testbench skeleton based on provided Verilog/SystemVerilog RTL code. It parses the module interface and creates basic UVM components, coverage models, and assertion packages.

**MCP Tool Name:** `tb_gen`

**Inputs:**
The tool expects the Verilog/SystemVerilog RTL code as a string.

*   `verilog_code` (string): The complete RTL code generated by `rtl_gen` or provided manually.

**Outputs:**
The tool returns a `TBOutput` structure (or equivalent JSON object) containing:

*   `tb_code` (string): The generated SystemVerilog code for the testbench, potentially including UVM structure if the design complexity warrants it.
*   `coverage_model` (string): SystemVerilog code representing functional coverage (e.g., `covergroup` definitions).
*   `assertion_pkg` (string): SystemVerilog code containing generated SVA (SystemVerilog Assertions).
*   `test_cases` (array of strings): Descriptions or names of basic generated test scenarios.

---